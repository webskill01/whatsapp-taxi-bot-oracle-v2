/**
 * ============================================================================
 * GLOBAL CONFIGURATION
 * ============================================================================
 * ES module replacing globalConfig.json + globalDefaults.js
 * Shared across ALL bot instances running in this project.
 *
 * Bot-2 pattern: single source of truth for keywords, anti-ban constants,
 * rate limits, and all tunable defaults.
 * ============================================================================
 */

export const GLOBAL_CONFIG = {
  // ==========================================================================
  // TAXI REQUEST KEYWORDS (normalized to lowercase at definition time)
  // ==========================================================================
  requestKeywords: [
    "need",
    "tu",
    "pickup",
    "pik",
    "pick",
    "urgent",
    "carrier",
    "time",
    "drop",
    "cab",
    "car",
    "taxi",
    "ride",
    "sedan",
    "sadan",
    "crysta",
    "dezire",
    "honda",
    "crunt",
    "small",
    "aura",
    "suv",
    "innova",
    "ertiga",
    "dzire",
    "etios",
    "current",
    "tempo",
    "parcel",
    "airport",
    "outstation",
  ].map((k) => k.toLowerCase()),

  // ==========================================================================
  // IGNORE KEYWORDS â€” drop message if any of these found in raw text
  // ==========================================================================
  ignoreIfContains: [
    "good morning",
    "good night",
    "gm",
    "gn",
    "free",
    "fre",
    "ferr",
    "frre",
    "link",
    "join",
    "exchange",
    "xchange",
    "ex",
    "exx",
    "khali",
    "khaali",
    "khadi",
    "khari",
    "sale",
    "available",
    "avialable",
    "loan",
    "fraud",
    "frod",
    "frode",
    "ford",
    "honi",
    "kali",
    "hone",
    "hoto",
    "à¤–à¤¾à¤²à¥€",
    "à¤–à¤¡à¤¼à¥€",
    "à¨–à¨¾à¨²à©€",
    "à¨–à©œà©€",
    "empty",
    "cabcircle",
    "taxiwale",
    "play",
    "cabzee",
  ].map((k) => k.toLowerCase()),

  // ==========================================================================
  // GLOBALLY BLOCKED PHONE NUMBERS
  // Add 10-digit numbers here. Country code variants checked automatically.
  // ==========================================================================
  blockedPhoneNumbers: [
    "6280262188", "6350027596", "7038815251", "7040404032", "7065843991",
    "7083722160", "7218048031", "7219763087", "7249079436", "7264002818",
    "7276450081", "7276466165", "7300364237", "7330100076", "7340581409",
    "7340756612", "7366053128", "7385717302", "7410750646", "7494979167",
    "7498629505", "7499483607", "7507056296", "7526823870", "7665254839",
    "7666102901", "7677625316", "7678276603", "7696885288", "7696990621",
    "7710638873", "7738965005", "7741052020", "7742964241", "7774929282",
    "7779040298", "7798434103", "7827147818", "7857909300", "7887567818",
    "7888387141", "7888749316", "7976843824", "7977480721", "7977518371",
    "8000092458", "8000183633", "8054504845", "8054609766", "8058211962",
    "8080403095", "8087337243", "8108969313", "8146157430", "8146915221",
    "8149316681", "8149983233", "8153999786", "8180810231", "8196831863",
    "8208040563", "8208652467", "8233511962", "8264684995", "8279766758",
    "8283841812", "8290142875", "8329450813", "8376045298", "8380908901",
    "8421434099", "8427467052", "8446307243", "8446811611", "8484863823",
    "8530062015", "8530421433", "8530787963", "8554843405", "8556833818",
    "8556979472", "8619095157", "8669306054", "8767144130", "8793270753",
    "8872677262", "8872712602", "8879105010", "9053581010", "9067346561",
    "9096620733", "9119507508", "9119552594", "9121009532", "9168405486",
    "9172065190", "9209295695", "9209869707", "9214847225", "9220398853",
    "9226771879", "9284383939", "9284423487", "9284505037", "9300079100",
    "9325892048", "9326268168", "9356534101", "9370889090", "9371507508",
    "9373300810", "9373322917", "9404110694", "9423245848", "9457395787",
    "9465661404", "9501391857", "9510611678", "9529630429", "9530396523",
    "9545115234", "9545437576", "9545477705", "9549750430", "9552863005",
    "9552924798", "9568471648", "9575950873", "9579254584", "9592303988",
    "9607611084", "9646348512", "9699913130", "9714631547", "9736688640",
    "9736688678", "9763388678", "9763818103", "9765125512", "9779109183",
    "9814068692", "9815190168", "9823776156", "9855325054", "9855880586",
    "9878583717", "9881821699", "9888704002", "9890909761", "9891562384",
    "9913818592", "9913918592", "9914577606", "9988921532", "9911470545",
    "9710100002", "7051774595", "9970680118", "7009869137", "7589972658",
  ],

  // ==========================================================================
  // ðŸ”’ RATE LIMITS
  // ==========================================================================
  rateLimits: {
    hourly: 100,
    daily: 1500,
  },

  // ==========================================================================
  // VALIDATION
  // ==========================================================================
  validation: {
    minMessageLength: 10,
    requirePhoneNumber: true,
  },

  // ==========================================================================
  // ðŸ”’ A1 + A5: Human behavior delays
  // ==========================================================================
  humanBehavior: {
    // A1: Length-scaled typing delay
    typingBasePerChar: 4,   // ms per character
    typingMin: 800,        // 0.8s floor
    typingMax: 1800,        // 1.8s ceiling

    // A5: Weighted between-group gaps (Bot-1 tighter values preserved)
    betweenMin: 800,
    betweenMax: 1500,
    betweenWeight: 0.65,    // 65% bias toward low end

    // Random pauses
    randomPauseChance: 0.15,
    randomPauseMin: 1500,
    randomPauseMax: 3000,
  },

  // ==========================================================================
  // ðŸ”’ CIRCUIT BREAKER
  // ==========================================================================
  circuitBreaker: {
    maxFailures: 10,
    breakDuration: 60000,   // 60s cooldown
  },

  // ==========================================================================
  // ðŸ”’ C1 + C2: Deduplication & cache
  // ==========================================================================
  deduplication: {
    maxFingerprintCache: 2000,
    cleanupTargetRatio: 0.8,     // C1: Trim to 80% on overflow
    sendCooldown: 1000,          // 1s per-group cooldown
    fingerprintTTL: 7200000,     // 2h TTL
    fingerprintSaveCap: 1000,
    saveDebounceMs: 30000,       // C2: 30s debounced writes
    maxReplayIds: 200,           // B2: Rolling replay ID set
  },

  // ==========================================================================
  // ðŸ”’ B1 + A4: Reconnect protection
  // ==========================================================================
  reconnect: {
    strictAgeMs: 10000,          // B1: 10s age window
    strictWindowDuration: 30000, // B1: Enforce for 30s after reconnect
    settlingMin: 5000,           // A4: 5s floor
    settlingMax: 15000,          // A4: 15s ceiling
  },
};